(self.webpackChunkcdfang_spider=self.webpackChunkcdfang_spider||[]).push([[771],{1771:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>D}),t(3431);var a=t(4331),r=(t(4223),t(3975)),c=t(3804),l=t.n(c),u=(t(4214),t(2386)),i=t(3038),o=t.n(i),s=t(3461),m=t(9271),d=t(3318),f=t(5977),h=(t(900),t(6318)),E=t(8655),g=t.n(E),v=t(5592),y=t(4119),p=t.n(y),k=t(1340);const Z=function(){return new k.ZP({uri:"".concat("","/graphql")})};var b=t(5734);function w(){var e=g()(["\n        {\n          spiderPageOne {\n            allLength\n            successArray {\n              _id\n              area\n              name\n              number\n              beginTime\n              endTime\n              status\n            }\n          }\n        }\n      "]);return w=function(){return e},e}var q=l().useState,C=l().useContext;const I=function(){var e=q(!1),n=o()(e,2),t=n[0],a=n[1],r=C(b.I);return l().createElement("span",{className:t?"loading notice-icon":"notice-icon"},l().createElement(v.Z,{onClick:function(){!function(e,n){e(!0),Z().query({query:p()(w())}).then((function(t){var a=t.data.spiderPageOne;h.default.open({message:"消息提醒",description:"成功更新数据".concat(a.allLength,"条，新数据").concat(a.successArray.length,"条。")}),e(!1),a.successArray.length>0&&n.changeData(n.allData.concat(a.successArray))}))}(a,r)}}))};var H=t(4622);function N(){var e=g()(['\n        {\n          pvs(routerName: "allHouses")\n        }\n      ']);return N=function(){return e},e}function x(){var e=g()(["\n        {\n          allHouses(year: ",") {\n            _id\n            area\n            name\n            number\n            beginTime\n            endTime\n            status\n          }\n        }\n      "]);return x=function(){return e},e}var A=Z,L=l().useState,O=l().useEffect,T=l().useContext;const _=(0,f.EN)((function(e){var n=e.history,t=e.location,a=T(b.I),r=L(0),c=o()(r,2),i=c[0],f=c[1],h=H.Oo[t.pathname],E=function(e){a.changeLoading(!0),function(e,n){var t="home"===e?"0":e;A().query({query:p()(x(),t)}).then((function(e){var n;n=e.data.allHouses,a.changeData(n),a.changeLoading(!1)}))}(e)};O((function(){var e;e=function(e){f(e)},A().query({query:p()(N())}).then((function(n){e(n.data.pvs)})),E(h)}),[]);var g=[h];return l().createElement("div",{className:"cdfang-header"},l().createElement("div",{className:"cdfang-header-item"},l().createElement("span",{className:"cdfang-header-item-pv"},"累计查询：".concat(i,"次")),l().createElement(I,null),l().createElement(s.Z,{onClick:function(){window.location.href=H.Kd}})),l().createElement(u.default,{theme:"light",mode:"horizontal",selectedKeys:g,onClick:function(e){var t=e.key;t!==h&&(n.push(H.Oo[t]),E(t))},style:{lineHeight:"64px"}},l().createElement(u.default.Item,{key:"home"},l().createElement(m.Z,null),"首页"),l().createElement(u.default.Item,{key:"2020"},l().createElement(d.Z,null),"2020年"),l().createElement(u.default.Item,{key:"2019"},l().createElement(d.Z,null),"2019年"),l().createElement(u.default.Item,{key:"2018"},l().createElement(d.Z,null),"2018年"),l().createElement(u.default.Item,{key:"2017"},l().createElement(d.Z,null),"2017年")))})),D=function(e){var n=e.children;return c.createElement("div",null,c.createElement(r.Z,null),c.createElement(a.Z,null,c.createElement(a.Z.Header,null,c.createElement(_,null)),n,c.createElement(a.Z.Footer,{style:{textAlign:"center"}},c.createElement("div",null,c.createElement("a",{href:"http://www.beian.miit.gov.cn/",target:"blank"},H.Hx)),c.createElement("div",null,H.si))))}}}]);